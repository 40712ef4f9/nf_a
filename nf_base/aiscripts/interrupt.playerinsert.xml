<?xml version="1.0" encoding="iso-8859-1" ?>
<aiscript name="interrupt.playerinsert" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="aiscripts.xsd" priority="10" version="1">
  <params>
    <param name="debugoutputchance" default="0" />
  </params>
  <interrupts>
    <library>
      <handler name="PlayerInput">
        <conditions>
          <check_any>
            <event_object_signalled object="this.ship" param="'dock at'" />
            <event_object_signalled object="this.ship" param="'take me to'" />
            <event_object_signalled object="this.ship" param="'refuel'" />
            <event_object_signalled object="this.ship" param="'start mining'" />
            <event_object_signalled object="this.ship" param="'attack object'" />
            <event_object_signalled object="this.ship" param="'attack enemies'" />
            <event_object_signalled object="this.ship" param="'hold position'" />
            <event_object_signalled object="this.ship" param="'fly to me'" />
            <event_object_signalled object="this.ship" param="'fly to pos'" />
            <event_object_signalled object="this.ship" param="'withdraw battle'" />
            <event_object_signalled object="this.ship" param="'clear shoppinglist'" />
            <event_object_signalled object="this.ship" param="'miningmode'" />
            <event_object_signalled object="this.ship" param="'collectcargo'" />
            <event_object_signalled object="this.ship" param="'stop order'" />
            <event_object_signalled object="this.ship" param="'modeoff'" />
            <event_object_signalled object="this.ship" param="'collect ship'" />
            <event_object_signalled object="this.ship" param="'tender action'" />
          </check_any>
          <check_value value="this.ship.isplayerowned" />
        </conditions>
        <actions>
          <signal_objects object="player.galaxy" param="'do.start.pldefault'" param2="this.ship" delay="20ms"/>
          <do_if value="event.param3? and event.param2?">
            <signal_objects object="this.ship" param="event.param" param2="event.param2" param3="event.param3" delay="2s" />
          </do_if>
          <do_elseif value="event.param3? and not event.param2?">
            <signal_objects object="this.ship" param="event.param" param3="event.param3" delay="2s" />
          </do_elseif>
          <do_elseif value="event.param2?">
            <signal_objects object="this.ship" param="event.param" param2="event.param2" delay="2s" />
          </do_elseif>
          <do_else>
            <signal_objects object="this.ship" param="event.param" delay="2s" />
          </do_else>
        </actions>
      </handler>
    </library>
  </interrupts>
</aiscript>
